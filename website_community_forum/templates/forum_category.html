{% extends "components/base.html" %}
{% load static %}
{% block title %}{{ category }} Discussions{% endblock %}

{% block content %}
<div class="container py-5 d-flex flex-column align-items-center">
  <h2 class="text-white mb-4 text-center">{{ category }} Discussions</h2>

  {% for post in posts %}
    <div class="card reddit-card mb-4 p-3" style="width: 100%; max-width: 720px;">
      <h4 class="mb-2">{{ post.title }}</h4>
      <p class="mb-1">
        <strong>{{ post.author }}</strong> â€¢ 
        <small class="text-light">{{ post.created_at|date:"M d, Y - H:i" }}</small>
      </p>
      <p class="mb-2">{{ post.body|truncatewords:40 }}</p>
      <div class="d-flex justify-content-between align-items-center">
        <span class="badge bg-primary">{{ post.category }}</span>
        <a href="{% url 'post_detail' post.id %}" class="btn btn-sm btn-outline-light">View</a>
      </div>
    </div>
  {% empty %}
    <p class="text-muted">No discussions found in this forum.</p>
  {% endfor %}
</div>
{% endblock %}
